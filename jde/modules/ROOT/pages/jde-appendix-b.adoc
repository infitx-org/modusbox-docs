= Appendix B : Additional Information

== Common Call Business Function Parameters

There are four common parameters used to invoke a Business Function:

|===
|*Parameter*|*Input/Output*|*Type*|*Description*
|_BSFNThrowExceptionWithErrorsYN
|Input
|STRING
|Values: Y, The flow will throw Runtime Exception with cause: org.mule.modules.jde.exceptions.CallBSFNException.

|_BSFNReturnCode
|Output
|INTEGER
|Values: 0: Processed Correctly, 1: There is warnings, 2: There is errors.

|_BSFNNumberOfErrors
|Output
|INTEGER
|Number of errors

|_BSFNDetailErrors
|Output
|STRING
|Detail of the error. It return a XML representation of CallObjectErrorList
|===


== Handling Errors 

In Mule 4, all thrown errors  are displayed in the *Type* selection of the Error Handler.

Select the errors you want to handle, and process them. 

NOTE: All JD Edwards related errors start with *JDE:*

image:demo_getting_started/image1_ctl.png[image,width=563,height=446]

This is an example of *CallObjectErrorItem* object:
[source,xml]
<com.jdedwards.system.kernel.JdeNetCallObjectErrorList>
  <mErrors>
    <com.jdedwards.system.kernel.CallObjectErrorItem>
      <mErrorId>0</mErrorId>
      <mDDItem>1212</mDDItem>
      <mLineNumber>315</mLineNumber>
      <mFileName>b0100094.c</mFileName>
      <mSubText>&#x0;</mSubText>
      <mAlphaDescription>Error: Address Number Already Assigned</mAlphaDescription>
      <mGlossaryText>CAUSE . . . .  The Address Number entered is already assigned.&#xd;
       RESOLUTION. .  Enter an Address Number that is not already assigned.&#xd;
      </mGlossaryText>
      <mErrorLevel>1</mErrorLevel>
    </com.jdedwards.system.kernel.CallObjectErrorItem>
    <com.jdedwards.system.kernel.CallObjectErrorItem>
      <mErrorId>11</mErrorId>
      <mDDItem>018A</mDDItem>
      <mLineNumber>544</mLineNumber>
      <mFileName>rtk_ddvl.c</mFileName>
      <mSubText>Search Type|Y|01|ST&#x0;</mSubText>
      <mAlphaDescription>Error: Y not found in User Defined Code 01 ST&#x0;</mAlphaDescription>
      <mGlossaryText>CAUSE . . . .  Search Type Y was not found in User Defined Code&#xd;
               for system 01 , type ST&#x0; .&#xd;
              RESOLUTION. .  Enter a valid Search Type or use Visual Assist to search&#xd;
               for a valid value.
      </mGlossaryText>
      <mErrorLevel>1</mErrorLevel>
    </com.jdedwards.system.kernel.CallObjectErrorItem>
  </mErrors>
  <mBsfnErrorCode>2</mBsfnErrorCode>
</com.jdedwards.system.kernel.JdeNetCallObjectErrorList>

== Defining Data Selection

* The parameter selection is used to define UBE Data Selection.
* The sentence is similar to a "WHERE" clause of an SQL statement.
* The selection syntax is:
** *table.column_name operator* [value|table.column_name];
* The table must be a JDE table that belongs to the main view of the UBE.
* Column Name must be a _JDE Data Item Alias_.
* The following operators can be used in the Selection :

[cols=",",options="header",]
|===
|Operator |Description
|= |Equal
|<> |Not equal
|<> |Not equal
|> |Greater than
|< |Less than
|>= |Greater than or equal
|⇐ |Less than or equal
|BETWEEN |Between an inclusive range
|NOT BETWEEN |Not Between an exclusive range
|IN |To specify multiple possible values for a column
|NOT IN |To exclude multiple possible values for a column
|===

* The values can be literals or other table columns.
* Literals can be *String* or *Number*.
* The sentence can include the *AND* and/or the *OR* conditions
* To override the default precedence you need to use parenthesis as
** *C1* AND (*C2* OR *C3*)
** The sentence only accepts one level of parenthesis.

*Structure*:

Valid Sentence (maximum level of Parenthesis opened is 1).

* _C1 AND (C2 OR C3) AND (C4 OR C5)_

Invalid Sentences (the maximum level of Parenthesis opened is 2).

* _C1 AND (C2 OR (C3 AND C4))_

Examples:

[source,sql]
----
F4211.KCOO = '00001' AND F4211.DOCO > 10332
F4211.KCOO = '00001' AND F4211.DOCO >= 10332
F4211.KCOO = '00001' AND F4211.DOCO <= 10332
F4211.KCOO = '00001' AND F4211.DOCO <> 10332
F4211.KCOO = '00001' AND ( F4211.DCTO = 'SO' OR F4211.DCTO = 'SI' )
F4211.KCOO = '00001' AND F4211.DCTO IN ('SO','SI')
F4211.KCOO = '00001' AND F4211.DCTO NOT IN ('SO','SI')
F4211.KCOO = '00001' AND F4211.DOCO BETWEEN 1022 AND 400
F4211.KCOO = '00001' AND F4211.DOCO NOT BETWEEN 1022 AND 400
F4211.MCU = F4211.EMCU AND F4211.DOCO NOT BETWEEN 1022 AND 400
----